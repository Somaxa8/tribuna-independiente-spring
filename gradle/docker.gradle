task buildDocker(dependsOn: 'build') {
    doLast {

        exec {
            commandLine 'docker', 'build', '-f', 'gradle/Dockerfile', '-t', 'tribunaindependiente', 'build/libs/'
        }

        def springProfile = 'SPRING_PROFILES_ACTIVE=' + String.valueOf(profile)
        def pathStorage = '/home/centos/tribuna-independiente/storage/:/static/storage'

        exec {
            commandLine 'docker', 'run', '-d',
                    '--name', 'tribunaindependienteapi',
                    '--network', 'tribunaindependiente',
                    '-p', '8080:8080',
                    '-v', pathStorage,
                    '--restart', 'always',
                    '-e', springProfile, 'tribunaindependiente'
        }

    }
}